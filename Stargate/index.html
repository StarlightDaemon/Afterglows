<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SG-1 Terminal v2.0 - Stargate Dialing Computer</title>
    <style>
        /* ============================================
           DESIGN TOKENS - Stargate Terminal v2.0
           ============================================ */
        :root {
            /* Colors - SGC Terminal Theme */
            --lcd-green: #00ff41;
            --lcd-dim: #007722;
            --lcd-off: #003311;
            --chevron-locked: #ff6600;
            --chevron-glow: rgba(255, 102, 0, 0.8);
            --wormhole-blue: #4488ff;
            --bg-dark: #0a0a0a;
            --bg-black: #000;

            /* Responsive Sizing */
            --stargate-size: min(550px, 75vw);
            --stargate-radius: calc(var(--stargate-size) / 2);

            /* Derived Sizes */
            --terminal-padding: max(15px, 2vw);
            --terminal-border: 4px;
            --header-font-size: clamp(11px, 1.8vw, 14px);
            --footer-font-size: clamp(10px, 1.5vw, 13px);
            --status-font-size: clamp(9px, 1.2vw, 11px);
        }

        /* ============================================
           LAYER 0: Page Foundation
           ============================================ */
        * {
            box-sizing: border-box;
        }

        body {
            background: var(--bg-black);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            font-family: 'Courier New', monospace;
        }

        /* ============================================
           LAYER 1: Terminal Container
           ============================================ */
        .terminal {
            background: var(--bg-dark);
            border: var(--terminal-border) solid var(--lcd-green);
            padding: var(--terminal-padding);
            color: var(--lcd-green);
            box-shadow: 0 0 30px rgba(0, 255, 65, 0.3);
            width: 100%;
            max-width: 1400px;
            min-height: 85vh;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        /* ============================================
           LAYER 2: UI Header
           ============================================ */
        .header {
            border-bottom: 2px dashed var(--lcd-green);
            padding-bottom: 10px;
            margin-bottom: 10px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: var(--header-font-size);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .mode-selector {
            display: flex;
            gap: 5px;
        }

        .mode-btn {
            background: var(--bg-dark);
            border: 1px solid var(--lcd-dim);
            color: var(--lcd-dim);
            padding: 4px 8px;
            font-family: inherit;
            font-size: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .mode-btn:hover {
            border-color: var(--lcd-green);
            color: var(--lcd-green);
        }

        .mode-btn.active {
            background: var(--lcd-green);
            color: var(--bg-black);
            border-color: var(--lcd-green);
        }

        #status {
            color: var(--lcd-green);
            text-shadow: 0 0 10px var(--lcd-green);
        }

        /* ============================================
           LAYER 3: LCD Screen Area
           ============================================ */
        .lcd-screen {
            position: relative;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: max(40px, 6vh) max(20px, 3vw);
        }

        /* ============================================
           LAYER 4: Stargate Container
           ============================================ */
        .stargate {
            width: var(--stargate-size);
            height: var(--stargate-size);
            position: relative;
        }

        /* ============================================
           LAYER 5: Gate Rings
           ============================================ */
        .ring {
            border-radius: 50%;
            position: absolute;
            box-sizing: border-box;
            top: 0;
            left: 0;
        }

        .outer-ring {
            width: 100%;
            height: 100%;
            border: 4px solid var(--lcd-green);
            box-shadow: 0 0 15px var(--lcd-green), inset 0 0 15px rgba(0, 255, 65, 0.15);
        }

        .inner-ring {
            width: 82%;
            height: 82%;
            top: 9%;
            left: 9%;
            border: 5px dashed var(--lcd-dim);
            opacity: 0.8;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .inner-ring.spinning {
            border-color: var(--lcd-green);
        }

        /* Symbol Track (Inner Ring Glyphs) */
        .symbol-track {
            position: absolute;
            width: 70%;
            height: 70%;
            top: 15%;
            left: 15%;
            border: 2px dotted var(--lcd-off);
            border-radius: 50%;
        }

        /* ============================================
           LAYER 6: Chevrons - Clock Position Mapping
           9 Chevrons spaced 40° apart (360/9 = 40)
           Chevron 9 is at 12:00 (top)
           ============================================ */
        .chevron {
            position: absolute;
            /* Square chevrons */
            width: calc(var(--stargate-size) * 0.06);
            height: calc(var(--stargate-size) * 0.06);
            top: calc(var(--stargate-size) * -0.03);
            left: 50%;
            margin-left: calc(var(--stargate-size) * -0.03);
            transform-origin: center calc(var(--stargate-radius) + (var(--stargate-size) * 0.03));
            z-index: 5;
        }

        /* Visual chevron box - counter-rotates to stay upright */
        .chevron::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-dark);
            border: 2px solid var(--lcd-dim);
            transition: all 0.3s ease;
        }

        .chevron.encoded::after {
            border-color: var(--lcd-green);
            background: var(--lcd-off);
        }

        .chevron.locked::after {
            background: var(--chevron-locked);
            border-color: var(--chevron-locked);
            box-shadow: 0 0 20px var(--chevron-glow);
        }

        .chevron::before {
            content: attr(data-num);
            position: absolute;
            top: -18px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 9px;
            color: var(--lcd-dim);
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 10;
        }

        .chevron:hover::before {
            opacity: 1;
        }

        /* Chevron Positions - Based on Research Clock Mapping */
        /* Chevron 9 = 12:00 (0°), then 40° increments clockwise */
        /* Each chevron counter-rotates to stay upright */
        .c9 {
            transform: rotate(0deg);
        }

        .c9::after {
            transform: rotate(0deg);
        }

        /* 12:00 - TOP (Master Lock) */
        .c1 {
            transform: rotate(40deg);
        }

        .c1::after {
            transform: rotate(-40deg);
        }

        /* 1:20 */
        .c2 {
            transform: rotate(80deg);
        }

        .c2::after {
            transform: rotate(-80deg);
        }

        /* 2:40 */
        .c3 {
            transform: rotate(120deg);
        }

        .c3::after {
            transform: rotate(-120deg);
        }

        /* 4:00 */
        .c4 {
            transform: rotate(160deg);
        }

        .c4::after {
            transform: rotate(-160deg);
        }

        /* 5:20 */
        .c5 {
            transform: rotate(200deg);
        }

        .c5::after {
            transform: rotate(-200deg);
        }

        /* 6:40 */
        .c6 {
            transform: rotate(240deg);
        }

        .c6::after {
            transform: rotate(-240deg);
        }

        /* 8:00 */
        .c7 {
            transform: rotate(280deg);
        }

        .c7::after {
            transform: rotate(-280deg);
        }

        /* 9:20 */
        .c8 {
            transform: rotate(320deg);
        }

        .c8::after {
            transform: rotate(-320deg);
        }

        /* 10:40 */

        /* ============================================
           LAYER 7: Event Horizon
           ============================================ */
        .event-horizon {
            position: absolute;
            top: 18%;
            left: 18%;
            width: 64%;
            height: 64%;
            background: radial-gradient(circle, var(--wormhole-blue) 0%, transparent 70%);
            border-radius: 50%;
            opacity: 0;
            transform: scale(0);
            transition: opacity 0.5s, transform 0.3s;
        }

        .event-horizon.active {
            opacity: 0.7;
            transform: scale(1);
            animation: wormhole-shimmer 0.15s infinite alternate;
        }

        .event-horizon.kawoosh {
            animation: kawoosh-anim 0.8s ease-out forwards;
        }

        @keyframes wormhole-shimmer {
            from {
                opacity: 0.6;
                filter: brightness(1);
            }

            to {
                opacity: 0.8;
                filter: brightness(1.2);
            }
        }

        @keyframes kawoosh-anim {
            0% {
                transform: scale(0);
                opacity: 1;
                background: #fff;
            }

            40% {
                transform: scale(1.6);
                opacity: 0.9;
                background: var(--wormhole-blue);
            }

            100% {
                transform: scale(1);
                opacity: 0.7;
                background: radial-gradient(circle, var(--wormhole-blue) 0%, transparent 70%);
            }
        }

        /* ============================================
           LAYER 8: Status Display Panel
           ============================================ */
        .status-panel {
            position: absolute;
            bottom: 30px;
            left: 30px;
            transform: none;
            background: rgba(0, 0, 0, 0.85);
            border: 1px solid var(--lcd-dim);
            padding: 12px 20px;
            font-size: var(--status-font-size);
            text-align: left;
            min-width: 250px;
            z-index: 10;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
        }

        .status-panel .callout {
            color: var(--chevron-locked);
            font-weight: bold;
            text-shadow: 0 0 5px var(--chevron-glow);
        }

        .chevron-display {
            display: flex;
            justify-content: flex-start;
            gap: 6px;
            margin-top: 6px;
        }

        .chevron-indicator {
            width: 12px;
            height: 12px;
            border: 1px solid var(--lcd-dim);
            background: var(--bg-dark);
        }

        .chevron-indicator.encoded {
            background: var(--lcd-dim);
        }

        .chevron-indicator.locked {
            background: var(--chevron-locked);
            border-color: var(--chevron-locked);
            box-shadow: 0 0 5px var(--chevron-glow);
        }

        /* ============================================
           LAYER 9: Footer Controls
           ============================================ */
        .footer {
            border-top: 2px dashed var(--lcd-green);
            padding-top: 12px;
            margin-top: 10px;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .dial-btn {
            background: var(--bg-dark);
            border: 2px solid var(--lcd-green);
            color: var(--lcd-green);
            padding: 10px 25px;
            font-family: inherit;
            font-size: var(--footer-font-size);
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.2s;
        }

        .dial-btn:hover:not(:disabled) {
            background: var(--lcd-green);
            color: var(--bg-black);
            box-shadow: 0 0 20px var(--lcd-green);
        }

        .dial-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .dial-btn.abort {
            border-color: #ff4444;
            color: #ff4444;
        }

        .dial-btn.abort:hover:not(:disabled) {
            background: #ff4444;
            color: var(--bg-black);
        }
    </style>
</head>

<body>

    <div class="terminal">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <span>SGC DIALING COMPUTER</span>
                <div class="mode-selector">
                    <button class="mode-btn active" data-mode="7" onclick="setMode(7)">7-CHV</button>
                    <button class="mode-btn" data-mode="8" onclick="setMode(8)">8-CHV</button>
                    <button class="mode-btn" data-mode="9" onclick="setMode(9)">9-CHV</button>
                </div>
            </div>
            <span id="status">IDLE</span>
        </div>

        <!-- LCD Screen -->
        <div class="lcd-screen">
            <div class="stargate">
                <!-- Rings -->
                <div class="ring outer-ring">
                    <!-- Chevrons in clock positions (9 at top) -->
                    <div class="chevron c1" id="c1" data-num="1"></div>
                    <div class="chevron c2" id="c2" data-num="2"></div>
                    <div class="chevron c3" id="c3" data-num="3"></div>
                    <div class="chevron c4" id="c4" data-num="4"></div>
                    <div class="chevron c5" id="c5" data-num="5"></div>
                    <div class="chevron c6" id="c6" data-num="6"></div>
                    <div class="chevron c7" id="c7" data-num="7"></div>
                    <div class="chevron c8" id="c8" data-num="8"></div>
                    <div class="chevron c9" id="c9" data-num="9"></div>
                </div>
                <div class="ring inner-ring" id="innerRing"></div>
                <div class="ring symbol-track"></div>
                <div class="event-horizon" id="horizon"></div>

                <!-- Status Panel Removed from here -->
            </div>

            <!-- Status Panel - Bottom Left -->
            <div class="status-panel">
                <div id="dialStatus">AWAITING COMMAND</div>
                <div class="chevron-display" id="chevronDisplay"></div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <button class="dial-btn" id="dialBtn" onclick="dialSequence()">[ INITIATE DIAL ]</button>
            <button class="dial-btn abort" id="abortBtn" onclick="abortSequence()" disabled>[ ABORT ]</button>
        </div>
    </div>

    <script>
        /* ============================================
           STARGATE DIALING COMPUTER v2.0
           Based on SG-1 canon research
           ============================================ */

        // DOM Elements
        const innerRing = document.getElementById('innerRing');
        const horizon = document.getElementById('horizon');
        const statusText = document.getElementById('status');
        const dialStatus = document.getElementById('dialStatus');
        const chevronDisplay = document.getElementById('chevronDisplay');
        const dialBtn = document.getElementById('dialBtn');
        const abortBtn = document.getElementById('abortBtn');

        // All 9 chevrons by ID
        const allChevrons = {
            1: document.getElementById('c1'),
            2: document.getElementById('c2'),
            3: document.getElementById('c3'),
            4: document.getElementById('c4'),
            5: document.getElementById('c5'),
            6: document.getElementById('c6'),
            7: document.getElementById('c7'),
            8: document.getElementById('c8'),
            9: document.getElementById('c9')
        };

        // State
        let dialMode = 7; // 7, 8, or 9 chevrons
        let isDialing = false;
        let aborted = false;
        let currentRotation = 0;

        /* ============================================
           DIALING SEQUENCES - Canon Accurate
           Based on research clock mapping
           ============================================ */
        const dialingSequences = {
            // 7-Chevron: Criss-cross pattern, top (9) locks last
            7: [1, 8, 2, 7, 3, 6, 9],
            // 8-Chevron: Same pattern + chevron 4, then top
            8: [1, 8, 2, 7, 3, 6, 4, 9],
            // 9-Chevron: Full sequence + chevron 5, then top
            9: [1, 8, 2, 7, 3, 6, 4, 5, 9]
        };

        // Mode labels
        const modeLabels = {
            7: 'INTRA-GALACTIC',
            8: 'INTER-GALACTIC',
            9: 'DESTINY PROTOCOL'
        };

        /* ============================================
           MODE SELECTION
           ============================================ */
        function setMode(mode) {
            if (isDialing) return;
            dialMode = mode;

            // Update buttons
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.toggle('active', parseInt(btn.dataset.mode) === mode);
            });

            // Update display
            updateChevronDisplay();
            dialStatus.textContent = `MODE: ${modeLabels[mode]}`;
        }

        function updateChevronDisplay() {
            const sequence = dialingSequences[dialMode];
            chevronDisplay.innerHTML = sequence.map((_, i) =>
                `<div class="chevron-indicator" data-index="${i}"></div>`
            ).join('');
        }

        /* ============================================
           DIALING SEQUENCE
           ============================================ */
        async function dialSequence() {
            if (isDialing) return;
            isDialing = true;
            aborted = false;

            // UI State
            dialBtn.disabled = true;
            abortBtn.disabled = false;
            statusText.textContent = 'DIALING';

            // Reset
            resetGate();
            const sequence = dialingSequences[dialMode];
            currentRotation = 0;

            // Dial each chevron
            for (let i = 0; i < sequence.length; i++) {
                if (aborted) break;

                const chevronNum = sequence[i];
                const chevron = allChevrons[chevronNum];
                const isLast = (i === sequence.length - 1);

                // Update status
                dialStatus.innerHTML = `CHEVRON <span class="callout">${i + 1}</span> ${isLast ? 'LOCKING' : 'ENCODING'}...`;

                // Spin the inner ring
                innerRing.classList.add('spinning');
                const spinAmount = Math.floor(Math.random() * 80) + 40;
                currentRotation += (i % 2 === 0) ? spinAmount : -spinAmount;
                innerRing.style.transform = `rotate(${currentRotation}deg)`;

                await sleep(800);
                if (aborted) break;

                // Encode chevron
                chevron.classList.add('encoded');
                updateIndicator(i, 'encoded');

                await sleep(300);
                if (aborted) break;

                // Lock chevron
                chevron.classList.remove('encoded');
                chevron.classList.add('locked');
                updateIndicator(i, 'locked');
                innerRing.classList.remove('spinning');

                // Announce
                dialStatus.innerHTML = `CHEVRON <span class="callout">${i + 1}</span> ${isLast ? 'LOCKED!' : 'ENCODED'}`;

                await sleep(isLast ? 500 : 400);
            }

            if (!aborted) {
                // Engage wormhole
                statusText.textContent = 'ACTIVE';
                dialStatus.innerHTML = '<span class="callout">WORMHOLE ESTABLISHED</span>';

                horizon.classList.add('kawoosh');
                await sleep(800);
                horizon.classList.remove('kawoosh');
                horizon.classList.add('active');
            }

            // Cleanup
            isDialing = false;
            dialBtn.disabled = false;
            abortBtn.disabled = true;
        }

        /* ============================================
           ABORT SEQUENCE
           ============================================ */
        function abortSequence() {
            if (!isDialing) return;
            aborted = true;
            statusText.textContent = 'ABORTED';
            dialStatus.textContent = 'DIALING SEQUENCE TERMINATED';

            // Reset gate
            setTimeout(resetGate, 1000);
        }

        /* ============================================
           UTILITIES
           ============================================ */
        function resetGate() {
            Object.values(allChevrons).forEach(c => {
                c.classList.remove('encoded', 'locked');
            });
            innerRing.classList.remove('spinning');
            innerRing.style.transform = 'rotate(0deg)';
            horizon.classList.remove('active', 'kawoosh');
            updateChevronDisplay();

            if (!isDialing) {
                statusText.textContent = 'IDLE';
                dialStatus.textContent = 'AWAITING COMMAND';
            }
        }

        function updateIndicator(index, state) {
            const indicators = chevronDisplay.querySelectorAll('.chevron-indicator');
            if (indicators[index]) {
                indicators[index].classList.remove('encoded', 'locked');
                indicators[index].classList.add(state);
            }
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // Initialize
        updateChevronDisplay();
    </script>

</body>

</html>